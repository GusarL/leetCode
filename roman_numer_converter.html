<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Two sum</title>
</head>
<body>
<script>
	const romanToInt = function(s) {
		const matchToNumbers = {
			I: 1,
			IV: 4,
			V: 5,
			IX: 9,
			X: 10,
			XL: 40,
			L: 50,
			XC: 90,
			C: 100,
			CD: 400,
			D: 500,
			CM: 900,
			M: 1000
		}
		if (matchToNumbers[s]) {
			return matchToNumbers[s];
		}
		const stringFromInput = s.split('');
		const parsedArray = [];
		for (let i = 0; i < stringFromInput.length; i++) {
			switch (stringFromInput[i]) {
				case 'I':
					if(stringFromInput[i + 1] === 'V'){
						parsedArray.push(matchToNumbers['IV']);
						i++;
					} else if (stringFromInput[i + 1] === 'X') {
						parsedArray.push(matchToNumbers['IX']);
						i++;
					} else {
						parsedArray.push(matchToNumbers[stringFromInput[i]]);
					}
					
					break;
				case 'X':
					if(stringFromInput[i + 1] === 'L'){
						parsedArray.push(matchToNumbers['XL']);
						i++;
					} else if (stringFromInput[i + 1] === 'C') {
						parsedArray.push(matchToNumbers['XC']);
						i++;
					} else {
						parsedArray.push(matchToNumbers[stringFromInput[i]]);
					}
					break;
				case 'C':
					if(stringFromInput[i + 1] === 'D'){
						parsedArray.push(matchToNumbers['CD']);
						i++;
					} else if (stringFromInput[i + 1] === 'M') {
						parsedArray.push(matchToNumbers['CM']);
						i++;
					} else {
						parsedArray.push(matchToNumbers[stringFromInput[i]]);
					}
					break;
				default:
					parsedArray.push(matchToNumbers[stringFromInput[i]]);
			}
		}
		const reducer = (accumulator, currentValue) => accumulator + currentValue;
		
		return parsedArray.reduce(reducer);
	};
//correct variant
	function romanToInt(s) {
		var nums = [];
		for(let i=0;i<s.length();i++){
			switch (s.charAt(i)){
				case 'M':
					nums[i]=1000;
					break;
				case 'D':
					nums[i]=500;
					break;
				case 'C':
					nums[i]=100;
					break;
				case 'L':
					nums[i]=50;
					break;
				case 'X' :
					nums[i]=10;
					break;
				case 'V':
					nums[i]=5;
					break;
				case 'I':
					nums[i]=1;
					break;
			}
		}
		let sum=0;
		for(let i=0;i<nums.length-1;i++){
			if(nums[i]<nums[i+1])
				sum-=nums[i];
			else
				sum+=nums[i];
		}
		return sum+nums[nums.length-1];
	}

</script>
</body>
</html>

